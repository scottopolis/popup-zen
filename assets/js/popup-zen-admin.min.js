!function(e,i,n,a){var t={};t.init=function(){t.listeners(),t.toggleShowOn(),t.toggleTypes(),t.toggleDatepicker(),t.emailCheckbox(),t.toggleEmailForm(),t.toggleTimeAgo(),n(".pzen-datepicker").datepicker({dateFormat:"mm/dd/yy"}),n(".pzen-colors").wpColorPicker()},t.listeners=function(){n(i).on("tinymce-editor-init",function(i,n){t.updatePreviewContent(),e.tinymce.activeEditor.on("keyup",function(e){t.updatePreviewContent()})}),n("#wp-content-wrap").hasClass("html-active")&&t.updatePreviewContent(),n("body").on("change","input[name=show_optin]",t.emailCheckbox).on("change",".pzen-switch input",t.toggleSwitch).on("change","input[name=expiration]",t.toggleDatepicker).on("change","input[name=show_on]",t.toggleShowOn).on("change","input[name=hwp_type]",t.toggleTypes).on("change","select[name=email_provider]",t.toggleEmailForm).on("keyup","#content",t.updatePreviewContent).on("focus","input#scroll_delay",function(){n("input[name=display_when][value=delay]").prop("checked","checked")}).on("click","#pzen-upload-btn",t.mediaUpload).on("change","select[name=fomo_integration]",t.toggleTimeAgo),n("#show_on_pages").suggest(e.ajaxurl+"?action=hwp_ajax_page_search",{multiple:!0,multipleSep:","})},t.toggleShowOn=function(){var e=n("input[name=show_on]:checked").val(),i=n("#show-certain-pages"),a=n("#pzen-cats"),t=n("#pzen-tags"),d=n("#pzen-types"),o=n("#pzen-exclude");switch(e){case"all":a.hide(),t.hide(),i.hide(),d.hide(),o.hide();break;case"limited":a.show(),t.show(),i.show(),d.show(),o.show();break;default:a.hide(),t.hide(),i.hide(),d.hide(),o.hide()}},t.toggleTypes=function(){var e=n("input[name=hwp_type]:checked").val(),i=n("#position-settings"),a=n("#popout_meta_box, #show_chat"),t=n("#hide_btn, label[for=hide_btn]"),d=n("#popout_meta_box"),o=n("#show-optin"),h=n(".avatar-email"),p=n("#popup-templates"),c=n("#popup-options"),l=n("#pzen-name-fields"),s=n("#send-btn-color"),f=n("#fomo-settings"),r=n("#postdivrich"),m=n("#pzen-disappear");switch(e){case"pzen-banner":a.hide(),t.hide(),d.hide(),i.hide(),o.fadeIn(),h.hide(),p.hide(),c.hide(),l.hide(),s.show(),f.hide(),r.fadeIn(),m.fadeIn();break;case"footer-bar":a.hide(),t.hide(),d.hide(),i.hide(),o.fadeIn(),h.hide(),p.hide(),c.show(),l.hide(),s.show(),f.hide(),r.fadeIn(),m.fadeIn();break;case"pzen-popup":p.fadeIn(),l.fadeIn(),t.hide(),a.fadeIn(),d.hide(),i.hide(),o.fadeIn(),h.hide(),c.fadeIn(),s.show(),f.hide(),r.fadeIn(),m.fadeIn();break;case"popout":d.fadeIn(),i.fadeIn(),o.fadeIn(),h.fadeIn(),p.hide(),c.hide(),l.show(),s.show(),f.hide(),r.fadeIn(),m.fadeIn();break;case"fomo":f.fadeIn(),d.hide(),a.hide(),o.hide(),h.hide(),p.hide(),c.hide(),l.hide(),s.hide(),t.hide(),r.hide(),m.hide();break;default:a.fadeIn(),t.fadeIn(),i.fadeIn(),d.hide(),o.fadeIn(),h.fadeIn(),p.hide(),c.hide(),l.hide(),s.show(),f.hide(),r.fadeIn(),m.fadeIn()}},t.emailCheckbox=function(){var e=n("#show-email-options");n("input[name=show_optin]").is(":checked")?e.fadeIn():e.fadeOut(200)},t.toggleEmailForm=function(){var e=n("#send-to-option"),i=n("#default-email-options"),a=n("#custom-email-options"),t=n("select[name=email_provider]").val(),d=n("input[name=item_type]:checked").val(),o=n("#mailchimp-fields"),h=n("#ac-fields"),p=n("#convertkit-fields"),c=n("#mailpoet-fields"),l=n("#drip-fields");"optin"===d&&n("#show-email-options").fadeIn(),"default"===t?(e.fadeIn(),i.fadeIn(),a.hide(),p.hide(),o.hide(),c.hide(),h.hide(),l.hide()):"custom"===t?(a.fadeIn(),i.hide(),e.hide(),p.hide(),o.hide(),c.hide(),h.hide(),l.hide()):"mc"===t?(o.fadeIn(),i.fadeIn(),p.hide(),a.hide(),e.hide(),c.hide(),h.hide(),l.hide()):"ck"===t?(p.fadeIn(),i.fadeIn(),o.hide(),a.hide(),e.hide(),c.hide(),h.hide(),l.hide()):"mailpoet"===t?(c.fadeIn(),i.fadeIn(),o.hide(),a.hide(),e.hide(),p.hide(),h.hide(),l.hide()):"ac"===t?(p.hide(),i.fadeIn(),o.hide(),a.hide(),e.hide(),c.hide(),h.fadeIn(),l.hide()):"drip"===t&&(l.fadeIn(),p.hide(),i.fadeIn(),o.hide(),a.hide(),e.hide(),c.hide(),h.hide())},t.toggleChat=function(){n("input[name=show_chat]").is(":checked")?n("#pzen-chat").removeClass("pzen-hide"):n("#pzen-chat").addClass("pzen-hide")},t.toggleSwitch=function(){t.toggleActiveAjax(n(this).data("id"))},t.toggleActiveAjax=function(i){var a={action:"hwp_toggle_active",id:i};n.ajax({method:"GET",url:e.ajaxurl,data:a}).done(function(e){}).fail(function(e){console.log(e)})},t.toggleDatepicker=function(){n("input[name=expiration]").is(":checked")?n("#pzen-until-datepicker").show():n("#pzen-until-datepicker").hide()},t.toggleTimeAgo=function(){var e=n("select[name=fomo_integration]").val(),i=n("#fomo-time_ago-settings");switch(e){case"edd":case"woo":i.fadeIn();break;default:i.hide()}},t.updatePreviewContent=function(){var a;a=n("#wp-content-wrap").hasClass("tmce-active")?e.tinymce.get("content").getContent():n("#content").val();var t=i.getElementById("pzen-first-row");t&&(t.innerHTML=a)},t.mediaUpload=function(e){e.preventDefault();var i;i?i.open():((i=wp.media.frames.file_frame=wp.media({title:"Choose Image",button:{text:"Choose Image"},multiple:!1})).on("select",function(){var e=i.state().get("selection").first().toJSON();n("#pzen-image-url").val(e.url),n(".pzen-popup-image").attr("src",e.url)}),i.open())},t.init(),e.pzenAdmin=t}(window,document,jQuery);